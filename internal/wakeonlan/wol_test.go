package wakeonlan

import "testing"

func TestMagicPacketCreation(t *testing.T) {
	// Test code here
	mac := "b3:1f:97:f5:64:e6"
	hw, err := parseMAC(mac)
	if err != nil {
		t.Errorf("Failed to parse MAC address: %v", err)
	}
	packet := createMagicPacket(hw)

	// assert that the packet is correct
	expected := []byte{
		0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF,
		0xb3, 0x1f, 0x97, 0xf5, 0x64, 0xe6,
		0xb3, 0x1f, 0x97, 0xf5, 0x64, 0xe6,
		0xb3, 0x1f, 0x97, 0xf5, 0x64, 0xe6,
		0xb3, 0x1f, 0x97, 0xf5, 0x64, 0xe6,
		0xb3, 0x1f, 0x97, 0xf5, 0x64, 0xe6,
		0xb3, 0x1f, 0x97, 0xf5, 0x64, 0xe6,
		0xb3, 0x1f, 0x97, 0xf5, 0x64, 0xe6,
		0xb3, 0x1f, 0x97, 0xf5, 0x64, 0xe6,
		0xb3, 0x1f, 0x97, 0xf5, 0x64, 0xe6,
		0xb3, 0x1f, 0x97, 0xf5, 0x64, 0xe6,
		0xb3, 0x1f, 0x97, 0xf5, 0x64, 0xe6,
		0xb3, 0x1f, 0x97, 0xf5, 0x64, 0xe6,
		0xb3, 0x1f, 0x97, 0xf5, 0x64, 0xe6,
		0xb3, 0x1f, 0x97, 0xf5, 0x64, 0xe6,
		0xb3, 0x1f, 0x97, 0xf5, 0x64, 0xe6,
		0xb3, 0x1f, 0x97, 0xf5, 0x64, 0xe6,
	}
	
	if len(packet) != len(expected) {
		t.Errorf("Packet length mismatch: got %d, want %d", len(packet), len(expected))
	}

	if string(packet) != string(expected) {
		t.Errorf("Packet mismatch: got %v, want %v", packet, expected)
	}
	
}
